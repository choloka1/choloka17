<!DOCTYPE html>
<html lang="ka">
<head>
  <meta charset="UTF-8">
  <title>Agro Imperial | უმაღლესი აგრო-ინტელექტი</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800;900&family=Fira+GO:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <style>
    :root {
      --imperial-green: #042f24; /* სამეფო ზურმუხტისფერი */
      --royal-gold: #d4af37;     /* ნამდვილი ოქროსფერი */
      --soft-ivory: #fdfbf7;     /* სპილოსძვლისფერი */
      --glass-ultra: rgba(255, 255, 255, 0.08);
    }

    body {
      background-color: var(--soft-ivory);
      font-family: 'Montserrat', 'Fira GO', sans-serif;
      color: var(--imperial-green);
      overflow-x: hidden;
    }

    /* --- Imperial Hero Section --- */
    .hero-container {
      position: relative;
      border-radius: 0 0 80px 80px;
      overflow: hidden;
      box-shadow: 0 40px 100px rgba(4, 47, 36, 0.2);
    }

    .carousel-img {
      height: 90vh;
      object-fit: cover;
      filter: brightness(0.5) contrast(1.1);
      transition: transform 12s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .carousel-item.active .carousel-img { transform: scale(1.15); }

    .hero-caption {
      position: absolute;
      top: 50%;
      left: 8%;
      transform: translateY(-50%);
      z-index: 10;
      max-width: 850px;
      color: white;
    }

    .hero-title {
      font-size: 5.5rem;
      font-weight: 900;
      line-height: 0.95;
      margin-bottom: 30px;
      letter-spacing: -3px;
      text-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }

    .hero-title span { color: var(--royal-gold); }

    .hero-desc {
      font-family: 'Fira GO';
      font-size: 1.4rem;
      opacity: 0.85;
      margin-bottom: 50px;
      border-left: 4px solid var(--royal-gold);
      padding-left: 25px;
    }

    /* --- The Masterpiece Buttons --- */
    .btn-imperial {
      padding: 22px 55px;
      border-radius: 100px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 15px;
      font-size: 0.9rem;
    }

    .btn-analytics {
      background: white;
      color: var(--imperial-green);
      box-shadow: 0 20px 40px rgba(255,255,255,0.15);
    }

    /* აგრო შოპის ახალი, საოცარი ღილაკი */
    .btn-shop-luxury {
      background: linear-gradient(135deg, var(--royal-gold), #b8860b);
      color: white;
      box-shadow: 0 20px 50px rgba(212, 175, 55, 0.4);
      border: 1px solid rgba(255,255,255,0.2);
      position: relative;
      overflow: hidden;
    }

    .btn-shop-luxury::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: rgba(255,255,255,0.2);
      transform: rotate(45deg) translateY(100%);
      transition: 0.6s;
    }

    .btn-shop-luxury:hover::after { transform: rotate(45deg) translateY(-100%); }

    .btn-imperial:hover {
      transform: translateY(-10px) scale(1.05);
      color: white;
    }

    /* --- Path Section --- */
    .path-section { padding: 150px 0; background: white; }

    .path-card {
      background: var(--soft-ivory);
      border-radius: 50px;
      overflow: hidden;
      border: 1px solid rgba(212, 175, 55, 0.1);
      transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
      height: 100%;
    }

    .path-card:hover {
      transform: translateY(-20px);
      box-shadow: 0 50px 100px rgba(4, 47, 36, 0.1);
      border-color: var(--royal-gold);
    }

    .path-img-box {
      height: 350px;
      overflow: hidden;
      position: relative;
    }

    .path-img { width: 100%; height: 100%; object-fit: cover; transition: 8s; }
    .path-card:hover .path-img { transform: scale(1.15); }

    .path-body { padding: 50px; text-align: center; }
    .path-title { font-weight: 900; font-size: 2.2rem; margin-bottom: 20px; }

    /* --- Insights Section --- */
    .insights-wrapper {
      background-color: var(--imperial-green);
      padding: 120px 0;
      color: white;
      border-radius: 100px 100px 0 0;
    }

    .news-item {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.05);
      border-radius: 35px;
      padding: 30px;
      display: flex;
      align-items: center;
      gap: 30px;
      margin-bottom: 25px;
      transition: 0.4s;
      text-decoration: none;
      color: white;
    }

    .news-item:hover {
      background: rgba(212, 175, 55, 0.1);
      transform: translateX(20px);
    }

    .news-thumb {
      width: 140px; height: 140px;
      border-radius: 25px;
      object-fit: cover;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    .section-header h2 { font-size: 3.5rem; font-weight: 900; }
    .gold-line { width: 80px; height: 6px; background: var(--royal-gold); margin: 20px auto; border-radius: 50px; }

    @media (max-width: 992px) {
      .hero-title { font-size: 3.5rem; }
      .news-item { flex-direction: column; text-align: center; }
    }
  </style>
</head>
<body>

{% include 'base.html' %}

<div class="container-fluid p-0 hero-container">
    <div id="imperialCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
        <div class="carousel-inner">
            {% for img in carousel_imgs %}
            <div class="carousel-item {{ 'active' if loop.first }}">
                <img src="{{ img.image_url }}" class="d-block w-100 carousel-img" alt="Luxury Agro">
                <div class="hero-caption">
                    <div class="animate__animated animate__fadeInDown">
                        <span class="text-uppercase fw-bold text-accent" style="letter-spacing: 5px;">A G R O &bull; I M P E R I A L</span>
                    </div>
                    <h1 class="hero-title animate__animated animate__fadeInLeft">მართე შენი <br><span>იმპერია</span></h1>
                    <p class="hero-desc animate__animated animate__fadeInUp animate__delay-1s">
                      ჩვენ ვაქცევთ სოფლის მეურნეობას მაღალტექნოლოგიურ ხელოვნებად. <br>
                      ანალიტიკა, რომელიც გიწინასწარმეტყველებთ წარმატებას.
                    </p>
                    <div class="d-flex gap-4 animate__animated animate__fadeInUp animate__delay-1s">
                        <a href="/archevani" class="btn-imperial btn-analytics">
                            აგრო-ინტელექტი <i class="fas fa-microchip"></i>
                        </a>
                        <a href="/agroshop" class="btn-imperial btn-shop-luxury">
                            აგრო ბუტიკი <i class="fas fa-gem"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<section class="path-section container">
    <div class="section-header text-center mb-5 pb-5">
        <h2 class="animate__animated animate__fadeIn">ექსკლუზიური სერვისები</h2>
        <div class="gold-line"></div>
    </div>
    <div class="row g-5">
        <div class="col-lg-6">
            <div class="path-card">
                <div class="path-img-box">
                    <img src="https://images.unsplash.com/photo-1558449028-b53a39d100fc?auto=format&fit=crop&w=1000&q=80" class="path-img" alt="Premium Analytics">
                </div>
                <div class="path-body">
                    <h3 class="path-title">აგრო ანალიტიკა</h3>
                    <p class="text-muted fs-5 font-fira">ციფრული ზუსტი გათვლები, რომლებიც ზრდის თქვენს მოსავლიანობას და ამცირებს რისკებს ნულამდე.</p>
                    <a href="/archevani" class="btn btn-dark rounded-pill px-5 py-3 fw-bold mt-4 shadow-lg">დაიწყე მართვა</a>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="path-card">
                <div class="path-img-box">
                    <img src="https://images.unsplash.com/photo-1464226184884-fa280b87c399?auto=format&fit=crop&w=1000&q=80" class="path-img" alt="Agro Boutique">
                </div>
                <div class="path-body">
                    <h3 class="path-title">აგრო შოპი</h3>
                    <p class="text-muted fs-5 font-fira">მხოლოდ რჩეული, პრემიუმ ხარისხის ნატურალური პროდუქცია პირდაპირ თქვენს კარამდე.</p>
                    <a href="/agroshop" class="btn btn-warning rounded-pill px-5 py-3 fw-bold mt-4 shadow-lg" style="background: var(--royal-gold); border:none; color:white;">აღმოაჩინე ხარისხი</a>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="insights-wrapper">
    <div class="container">
        <div class="d-flex justify-content-between align-items-end mb-5 pb-3">
            <div>
                <span class="imperial-tag">Knowledge Hub</span>
                <h2 style="font-size: 3.5rem; font-weight: 900; margin: 0;">ბოლო <span>Insights</span></h2>
            </div>
            <a href="/post" class="btn btn-outline-warning rounded-pill px-4 py-2 fw-bold">ყველა სტატია</a>
        </div>

        <div class="row g-4">
            {% for post in latest_posts %}
            <div class="col-lg-4 col-md-6">
                <a href="{{ url_for('view_post', post_id=post.id) }}" class="imperial-card">
                    <div class="card-img-box">
                        {% if post.image_url %}
                        <img src="{{ post.image_url }}" class="card-img" alt="post">
                        {% else %}
                        <div style="width:100%; height:100%; background:rgba(255,255,255,0.05); display:flex; align-items:center; justify-content:center; color:var(--royal-gold);">
                            <i class="fas fa-leaf fa-2x"></i>
                        </div>
                        {% endif %}
                    </div>
                    <div class="card-content">
                        <div style="color:var(--royal-gold); font-size:0.7rem; font-weight:700; margin-bottom:10px;">{{ post.created_at.strftime('%d %b, %Y') }}</div>
                        <h4 class="card-title">{{ post.title }}</h4>
                        <p class="card-excerpt">{{ post.content[:100] }}...</p>
                        <div style="color:var(--royal-gold); font-weight:700; font-size:0.85rem;">წაიკითხე <i class="fas fa-arrow-right ms-2"></i></div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<style>
    /* იმპერატორული ფერები და ფონი */
    .insights-wrapper {
        background-color: #03211a; /* უფრო მუქი, ღრმა მწვანე */
        padding: 100px 0;
        color: white;
        border-top: 1px solid rgba(212, 175, 55, 0.2);
    }

    .premium-tag {
        color: var(--royal-gold);
        font-weight: 700;
        font-size: 0.75rem;
        letter-spacing: 4px;
        text-transform: uppercase;
        margin-bottom: 10px;
    }

    .imperial-title {
        font-size: 3rem;
        font-weight: 900;
        margin: 0;
        letter-spacing: -1px;
    }
    .imperial-title span { color: var(--royal-gold); }

    .title-divider {
        width: 60px;
        height: 3px;
        background: var(--royal-gold);
        margin-top: 20px;
    }

    /* ღილაკი - კომპაქტური და ელეგანტური */
    .btn-all-posts {
        color: white;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9rem;
        border-bottom: 1px solid var(--royal-gold);
        padding-bottom: 5px;
        transition: 0.3s;
    }
    .btn-all-posts:hover { color: var(--royal-gold); padding-right: 10px; }

    /* ბარათის დიზაინი - აღარ არის "გაბერილი" */
    .imperial-card {
        display: block;
        text-decoration: none;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 25px;
        height: 100%;
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        overflow: hidden;
    }

    .imperial-card:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: var(--royal-gold);
        transform: translateY(-10px);
    }

    .card-img-box {
        height: 220px;
        position: relative;
        overflow: hidden;
    }

    .card-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: 1s;
    }

    .imperial-card:hover .card-img { transform: scale(1.1); }

    .card-date {
        position: absolute;
        top: 20px;
        right: 20px;
        background: var(--royal-gold);
        color: var(--imperial-green);
        padding: 5px 15px;
        border-radius: 10px;
        font-weight: 800;
        font-size: 0.8rem;
    }

    .card-content { padding: 30px; }

    .category-label {
        color: var(--royal-gold);
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
        margin-bottom: 12px;
    }

    .card-title {
        color: white;
        font-size: 1.4rem;
        font-weight: 800;
        margin-bottom: 15px;
        line-height: 1.3;
    }

    .card-excerpt {
        color: rgba(255, 255, 255, 0.6);
        font-family: 'Fira GO';
        font-size: 0.9rem;
        line-height: 1.6;
        margin-bottom: 25px;
    }

    .card-footer-imperial {
        font-weight: 700;
        font-size: 0.85rem;
        color: var(--royal-gold);
        display: flex;
        align-items: center;
    }

    .img-placeholder {
        width: 100%; height: 100%;
        background: rgba(255,255,255,0.05);
        display: flex; align-items: center; justify-content: center;
        color: var(--royal-gold);
    }
</style>

{% include 'footer.html' %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>